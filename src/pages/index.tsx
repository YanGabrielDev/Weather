import Head from "next/head";
import { CurrentDay } from "../components";
import { Forecast } from "../components";
import { LoaderContainer, WeatherContainer } from "./styles";
import { useWeatherContext } from "../hooks/useWeather";
import { Loader } from "../components";

export default function Home() {
  const { data, isLoading } = useWeatherContext();
  const weatherList = data?.list
  
  return (
    <WeatherContainer>
      <Head>
        <title>Weather app</title>
        <meta name="description" content="Generated by Weather app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {isLoading ? (<LoaderContainer><Loader/></LoaderContainer>) : (
        <>
        <CurrentDay currentDay={weatherList[0]} />
      <Forecast forecast={weatherList}/>
        </>
      )}
    </WeatherContainer>
   
)}